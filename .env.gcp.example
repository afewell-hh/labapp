# GCP Builder Environment Configuration
# Copy this file to .env.gcp and fill in your values
# .env.gcp is gitignored and will not be committed

# =============================================================================
# GCP Project Configuration
# =============================================================================

# Your GCP project ID
# Create one at: https://console.cloud.google.com/
GCP_PROJECT_ID="your-gcp-project-id"

# GCP region and zone for builder instances
# Recommended: us-central1 (Iowa) for cost-effectiveness
# See: https://cloud.google.com/compute/docs/regions-zones
GCP_REGION="us-central1"
GCP_ZONE="us-central1-a"

# =============================================================================
# Service Account
# =============================================================================

# Service account email for builder instances
# Format: SERVICE_ACCOUNT_NAME@PROJECT_ID.iam.gserviceaccount.com
# Create with: gcloud iam service-accounts create hedgehog-builder
GCP_SERVICE_ACCOUNT="hedgehog-builder@your-gcp-project-id.iam.gserviceaccount.com"

# Path to service account key file (JSON)
# Create with: gcloud iam service-accounts keys create ~/hedgehog-builder-key.json \
#   --iam-account=hedgehog-builder@your-gcp-project-id.iam.gserviceaccount.com
# NEVER commit this file to git!
GCP_SERVICE_ACCOUNT_KEY_PATH="${HOME}/hedgehog-builder-key.json"

# =============================================================================
# Storage Configuration
# =============================================================================

# GCS bucket name for build artifacts
# Must be globally unique
# Create with: gsutil mb -p ${GCP_PROJECT_ID} -c STANDARD -l us-central1 gs://BUCKET_NAME/
GCS_BUCKET="hedgehog-lab-artifacts-your-project"

# Path within bucket for artifacts
# Artifacts will be uploaded to: gs://${GCS_BUCKET}/${GCS_ARTIFACT_PATH}/
GCS_ARTIFACT_PATH="releases"

# =============================================================================
# Build Instance Configuration
# =============================================================================

# Machine type for builder instance
# Options:
#   n2-standard-16  (16 vCPUs, 64GB RAM)  - Standard builds, ~$0.78/hr
#   n2-standard-32  (32 vCPUs, 128GB RAM) - Pre-warmed builds, ~$1.55/hr (recommended)
#   n2-highmem-32   (32 vCPUs, 256GB RAM) - Memory-intensive, ~$2.08/hr
#   c2-standard-30  (30 vCPUs, 120GB RAM) - Compute-optimized, ~$1.66/hr
# See: https://cloud.google.com/compute/docs/machine-types
GCP_MACHINE_TYPE="n2-standard-32"

# Disk size in GB
# Standard builds: 300GB minimum
# Pre-warmed builds: 600GB minimum
GCP_DISK_SIZE="600"

# Disk type
# Options:
#   pd-standard (HDD, cheaper, slower)
#   pd-ssd      (SSD, faster, recommended for builds)
#   pd-balanced (balanced performance/cost)
GCP_DISK_TYPE="pd-ssd"

# =============================================================================
# Cost Controls
# =============================================================================

# Maximum build time in hours before auto-shutdown
# Protects against runaway costs from hung builds
GCP_MAX_BUILD_TIME_HOURS="4"

# Enable preemptible VM (80% cost savings, but may be interrupted)
# Set to "true" for development builds where interruption is acceptable
# Set to "false" for production builds that must complete
GCP_ENABLE_PREEMPTIBLE="false"

# =============================================================================
# Network Configuration
# =============================================================================

# VPC network name (use "default" for default network)
GCP_NETWORK="default"

# Subnetwork name (leave empty to use default for region)
GCP_SUBNETWORK=""

# External IP (set to "none" to disable, or "ephemeral" for temporary IP)
GCP_EXTERNAL_IP="ephemeral"

# =============================================================================
# Build Configuration
# =============================================================================

# GitHub token for private repo access (if needed)
# Falls back to GITHUB_TOKEN from .env if not set here
# GCP_GITHUB_TOKEN="ghp_..."

# Build labels (for resource tagging and cost tracking)
GCP_BUILD_LABELS="purpose=labapp-builder,team=devops,environment=production"

# =============================================================================
# Monitoring & Logging
# =============================================================================

# Enable Cloud Logging (recommended)
GCP_ENABLE_LOGGING="true"

# Cloud Logging log name prefix
GCP_LOG_NAME="hedgehog-lab-builds"

# =============================================================================
# Example Values for Quick Setup
# =============================================================================

# Uncomment and customize these for a quick start:
#
# GCP_PROJECT_ID="hedgehog-lab-123456"
# GCP_REGION="us-central1"
# GCP_ZONE="us-central1-a"
# GCP_SERVICE_ACCOUNT="hedgehog-builder@hedgehog-lab-123456.iam.gserviceaccount.com"
# GCP_SERVICE_ACCOUNT_KEY_PATH="${HOME}/.gcp/hedgehog-builder-key.json"
# GCS_BUCKET="hedgehog-lab-artifacts-123456"
# GCS_ARTIFACT_PATH="releases"
# GCP_MACHINE_TYPE="n2-standard-32"
# GCP_DISK_SIZE="600"
# GCP_DISK_TYPE="pd-ssd"
# GCP_MAX_BUILD_TIME_HOURS="4"
# GCP_ENABLE_PREEMPTIBLE="false"
# GCP_NETWORK="default"
# GCP_EXTERNAL_IP="ephemeral"
